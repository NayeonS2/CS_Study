# 개요

## 운영체제(OS, Operating System)
- 사용자가 컴퓨터를 쉽게 다루게 해주는 인터페이스
- 여러 가지 하드웨어와 여러가지 소프트웨어들의 복합적인 동작을 관리하기 위해서 존재하는 거대한 프로그램
- `하드웨어`(중앙 처리 장치(CPU), 주기억 장치, 보조 기억 장치, 각종 입출력 장치 등)가 정상적으로 작동하도록 `감시하고 제어`하며, `응용 프로그램에` 사용하는 CPU 시간, 기억 공간, 입출력 등 `하드웨어 자원을 할당하고 배분`하는 `시스템 관리 기능을 기본`으로 제공
- 대표적인 운영체제 : Windows, Linux, Mac OSX, iOS

### 운영체제 목적
- 컴퓨터의 **하드웨어**(CPU, 메모리, 디스크, 키보드, 마우스, 모니터, 네트워크)를 **잘 관리해서 효율적으로 사용**하기 위함 
- **사용자에게 편의를 제공**

###  한마디로 !
- 컴퓨터의 성능을 높이고(**performance**), 사용자에게 편의성 제공(**Convenience**)을 목적으로 하는 **컴퓨터 하드웨어 관리하는 프로그램**

> [참고] 펌웨어, firmware
> - 하드웨어의 기본적인 제어와 구동을 맡고 소프트웨어를 하드웨어에 담은 일종의 운영체제
> - 운영체제와 차이점은 소프트웨어를 추가 설치할 수 없다는 점
> - 한가지 하드웨어의 최소한의 동작을 위해서 존재하는 아주 작은 규모의 프로그램
> - 운영체제와 별개로 동작
> 
---

# 1 운영체제의 역할과 구조

## 1.1 운영체제의 역할
### 1.1.1 CPU 스케줄링과 프로세스 관리
- **CPU 소유권을 어떤 프로세스에 할당**할지, 프로세스의 생성과 삭제, 자원 할당 및 반환을 관리

### 1.1.2 메모리 관리
- 한정된 메모리를 어떤 프로세스에 얼만큼 할당해야 하는지 관리


### 1.1.3 디스크 파일 관리
- 디스크 파일을 어떠한 방법으로 보관할지 관리


### 1.1.4 I/O 디바이스 관리
- **I/O** 디바이스들인 마우스, 키보드와 컴퓨터 간에 데이터를 주고 받는 것을 관리
	- I/O : 입출력 함수, 데이터베이스, 네트워크, 파일 접근 등에 관한 일



## 1.2 운영체제 구조
![img](../img/os.png)

### 1.2.1 **GUI(graphical user interface)**

- 사용자가 전자장치와 상호작용할 수 있도록 하는 사용자 인터페이스의 한 형태
- 단순 명령어창이 아닌, 아이콘을 마우스로 클릭하는 단순한 동작으로 컴퓨터와 상호작용할 수 있게 해줌
- **커널에 사용자 명령을 전달하고 실행 결과를 사용자에게 알려주는 역할**
- 리눅스 서버에는 GUI가 없고 CUI만 존재함

### 1.2.2 시스템 콜
- **운영체제**가 **커널에 접근**하기 위한 인터페이스
- 유저프로그램이 운영체제의 서비스를 받기 위해 `커널 함수를 호출할 때 사용`
- 컴퓨터 자원에 대한 `직접 접근을 차단`하고 `다른 프로그램으로부터 하드웨어를 보호`하기 위함

- **사용 예시**
  - 사용자 모드에서 시스템 콜이나 라이브러리 함수를 통해 I/O 요청 커널 모드로 전환 후 커널의 I/O 관리자에 의해 장치 드라이버에 요청
  - 장치 드라이버에서 받은 값을 커널에 전달
  -  받은 값을 커널이 사용자에게 전달
  - 사용자 모드로 전환
  
![img](../img/os1.png)

1. 유저프로그램이 open함수 실행
2. 올바른 I/O 요청인지 확인
3. 유저모드가 시스템콜을 통해 커널모드로 변환되어 실행

> 유저모드
> - 사용자 프로그램이 CPU의 주도권을 가지며 제한된 명렬어만 실행시킬 수 있음
> - 유저가 접근할 수 있는 영역을 제한함. 컴퓨터 자원을 함부터 침범하지 못하는 모드

> 커널모드
> - 운영체제가 CPU의 주도권을 가지고 있으며 모든 명령어를 실행시킬 수 있음
> - 모든 컴퓨터 자원에 접근할 수 있는 모드

<h4>- modeit</h4>

![img](../img/os2.png)

- 유저모드와 커널모드를 구분할 떄 시스템콜이 사용하는 것
- 1, 0의 값을 가지는 플레그 변수
- 시스템콜이 호출되면  modeit를 1에서 0으로 바꾸고 커널 모드로 변경한 후, 요청 로직 수행
- modeit을 0에서 1로 바꿔서 유저모드로 변경하고 이후 로직 수행


### 1.2.3 커널
- 프로세스 관리, 메모리 관리, 자원 배분, 저장장치 관리, 시스템 콜와 같은 `운영체제의 핵심적인 기능을 수행`하는 부분
- 자동차가 운영체제라고 한다면 엔진이 커널에 해당
- 운영체제의 종류는 다양하지만 `성능을 결정`하는 것은 `커널`이 좌우한다.
- 운영체제의 핵심이자 시스템 콜 인터페이스를 제공
- 보안, 메모리, 프로세스, 파일 시스템, I/O 디바이스, I/O 요청 관리 등 운영체제의 중추적인 역할

### 1.2.4 **드라이버**
- 하드웨어와 제어하기 위한 소프트웨어
- 운영체제와 장치의 상호 통신을 허용하는 소프트웨어 구성 요소
